{"id":"IMMy","dependencies":[{"name":"/Users/neo/Workspace/2022/vymo-source-restful/.babelrc","includedInParent":true,"mtime":1650467725657},{"name":"/Users/neo/Workspace/2022/vymo-source-restful/package.json","includedInParent":true,"mtime":1650639339889},{"name":"react","loc":{"line":1,"column":32,"index":32},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/react/index.js"},{"name":"moment","loc":{"line":2,"column":19,"index":60},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/moment/moment.js"},{"name":"@material-ui/core/Grid","loc":{"line":3,"column":17,"index":87},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/core/esm/Grid/index.js"},{"name":"@material-ui/core/TextField","loc":{"line":4,"column":22,"index":135},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/core/esm/TextField/index.js"},{"name":"@material-ui/core/Button","loc":{"line":5,"column":19,"index":185},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/core/esm/Button/index.js"},{"name":"@material-ui/core/styles","loc":{"line":6,"column":27,"index":240},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/core/esm/styles/index.js"},{"name":"@material-ui/pickers","loc":{"line":7,"column":35,"index":303},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/pickers/esm/index.js"},{"name":"@material-ui/lab/Alert","loc":{"line":8,"column":18,"index":345},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@material-ui/lab/esm/Alert/index.js"},{"name":"../constant","loc":{"line":10,"column":26,"index":398},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/components/Form.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/app/src/constant.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=M;var e=m(require(\"react\")),r=s(require(\"moment\")),t=s(require(\"@material-ui/core/Grid\")),a=s(require(\"@material-ui/core/TextField\")),n=s(require(\"@material-ui/core/Button\")),l=require(\"@material-ui/core/styles\"),o=require(\"@material-ui/pickers\"),u=s(require(\"@material-ui/lab/Alert\")),i=require(\"../constant\");function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(d=function(e){return e?t:r})(e)}function m(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=d(r);if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(\"default\"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,t&&t.set(e,a),a}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach(function(r){O(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function p(e,r){return h(e)||y(e,r)||g(e,r)||b()}function b(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function g(e,r){if(e){if(\"string\"==typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function y(e,r){var t=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=t){var a,n,l=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(a=t.next()).done)&&(l.push(a.value),!r||l.length!==r);o=!0);}catch(i){u=!0,n=i}finally{try{o||null==t.return||t.return()}finally{if(u)throw n}}return l}}function h(e){if(Array.isArray(e))return e}function O(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=(0,l.makeStyles)(function(e){return{appBar:{position:\"relative\"},layout:O({width:\"auto\",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:\"auto\",marginRight:\"auto\"}),buttons:{display:\"flex\",justifyContent:\"flex-end\"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}});function M(l){var s=l.type,d=l.createUser,m=l.loading,f=l.error,b=l.data,g=p((0,e.useState)({name:\"\",email:\"\",phoneNumber:\"\",address:\"\",dob:null,error:!1,errorMessage:{}}),2),v=g[0],y=g[1],h=E(),O=s!==i.TYPE_FORM.ADD;return e.default.createElement(e.default.Fragment,null,e.default.createElement(t.default,{container:!0,spacing:3},e.default.createElement(t.default,{item:!0,xs:12,sm:12},e.default.createElement(a.default,{id:\"name\",name:\"name\",label:\"Name\",fullWidth:!0,required:!0,disabled:O,value:v.name,autoComplete:\"name\",onChange:function(e){y(c(c({},v),{},{name:e.target.value}))},error:!!v.errorMessage.name,helperText:v.errorMessage.name})),e.default.createElement(t.default,{item:!0,xs:12,sm:12},e.default.createElement(a.default,{id:\"email\",name:\"email\",label:\"Email\",fullWidth:!0,required:!0,disabled:O,value:v.email,autoComplete:\"name\",onChange:function(e){y(c(c({},v),{},{email:e.target.value}))},error:!!v.errorMessage.email,helperText:v.errorMessage.email})),e.default.createElement(t.default,{item:!0,xs:12,sm:12},e.default.createElement(a.default,{id:\"phoneNumber\",name:\"phoneNumber\",label:\"Phone\",required:!0,disabled:O,fullWidth:!0,autoComplete:\"name\",value:v.phoneNumber,onChange:function(e){y(c(c({},v),{},{phoneNumber:e.target.value}))},error:!!v.errorMessage.phoneNumber,helperText:v.errorMessage.phoneNumber})),e.default.createElement(t.default,{item:!0,xs:12,sm:12},e.default.createElement(a.default,{id:\"address\",name:\"address\",label:\"Address\",fullWidth:!0,required:!0,disabled:O,value:v.address,autoComplete:\"name\",onChange:function(e){y(c(c({},v),{},{address:e.target.value}))},error:!!v.errorMessage.address,helperText:v.errorMessage.address})),e.default.createElement(t.default,{item:!0,xs:12,sm:12},e.default.createElement(o.KeyboardDatePicker,{id:\"dob\",name:\"dob\",required:!0,disabled:O,label:\"DOB\",disableFuture:!0,fullWidth:!0,autoComplete:\"name\",value:v.dob,disableToolbar:!0,format:\"DD/MM/YYYY\",onChange:function(e){y(c(c({},v),{},{dob:e}))},KeyboardButtonProps:{\"aria-label\":\"change date\"},error:!!v.errorMessage.dob,helperText:v.errorMessage.dob}))),e.default.createElement(\"div\",{className:h.buttons},s===i.TYPE_FORM.ADD&&e.default.createElement(n.default,{onClick:function(){!function(){var e=!1,t={};\"\"===v.name&&(e=!0,t.name=\"Empty name. Please provide value.\"),\"\"!==v.email&&/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(v.email)||(e=!0,t.email=\"Empty email. Please provide value.\"),\"\"===v.phoneNumber&&(e=!0,t.phoneNumber=\"Empty phoneNumber. Please provide value.\"),\"\"===v.address&&(e=!0,t.address=\"Empty address. Please provide value.\");var a=v.dob&&Math.floor((0,r.default)(new Date).diff((0,r.default)(v.dob,\"DDMMYYYY\"),\"years\",!0))||null;if((!a||a<18||a>60)&&(e=!0,t.dob=v.dob?\"DOB is not accepted, Please reselect the value.\":\"Empty DOB. Please provide value.\"),y(c(c({},v),{},{error:e,errorMessage:t})),!e){var n=v.dob&&(0,r.default)(v.dob).format(\"YYYYMMDD\")||null;d({variables:{var:{name:v.name,email:v.email,phoneNumber:v.phoneNumber,address:v.address,dob:n}}})}}()},disabled:!!m,variant:\"contained\",color:\"primary\",className:h.button},\"Send\")||\"\"),e.default.createElement(\"br\",null),m&&e.default.createElement(\"p\",null,\"Submitting...\"),f&&e.default.createElement(u.default,{severity:\"error\"},\"Submission error! $\",f.message),200===(null==b?void 0:b.statusCode)&&e.default.createElement(u.default,{severity:\"success\"},\"Create successful\"),200!==(null==b?void 0:b.statusCode)&&(null==b?void 0:b.statusCode)&&e.default.createElement(u.default,{severity:\"error\"},null==b?void 0:b.message),e.default.createElement(\"br\",null))}"},"sourceMaps":null,"error":null,"hash":"ddac340ea4369d7332c5b529ad7d4584","cacheData":{"env":{}}}
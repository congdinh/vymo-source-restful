{"id":"dBMu","dependencies":[{"name":"/Users/neo/Workspace/2022/vymo-source-restful/package.json","includedInParent":true,"mtime":1650639339889},{"name":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/package.json","includedInParent":true,"mtime":1650476598117},{"name":"tslib","loc":{"line":1,"column":25,"index":25},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/node_modules/tslib/tslib.es6.js"},{"name":"../../utilities/globals/index.js","loc":{"line":2,"column":42,"index":76},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/utilities/globals/index.js"},{"name":"@wry/equality","loc":{"line":3,"column":22,"index":134},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@wry/equality/lib/equality.esm.js"},{"name":"@wry/trie","loc":{"line":4,"column":21,"index":172},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@wry/trie/lib/trie.esm.js"},{"name":"../../utilities/index.js","loc":{"line":5,"column":303,"index":488},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/utilities/index.js"},{"name":"./helpers.js","loc":{"line":6,"column":100,"index":616},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/helpers.js"},{"name":"./object-canon.js","loc":{"line":7,"column":35,"index":667},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/object-canon.js"},{"name":"./policies.js","loc":{"line":8,"column":42,"index":730},"parent":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/writeToStore.js","resolved":"/Users/neo/Workspace/2022/vymo-source-restful/node_modules/@apollo/client/cache/inmemory/policies.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.StoreWriter=void 0;var e=require(\"tslib\"),r=require(\"../../utilities/globals/index.js\"),t=require(\"@wry/equality\"),n=require(\"@wry/trie\"),i=require(\"../../utilities/index.js\"),a=require(\"./helpers.js\"),o=require(\"./object-canon.js\"),s=require(\"./policies.js\");function c(r,t,n){var i=\"\".concat(t).concat(n),a=r.flavors.get(i);return a||r.flavors.set(i,a=r.clientOnly===t&&r.deferred===n?r:(0,e.__assign)((0,e.__assign)({},r),{clientOnly:t,deferred:n})),a}var l=function(){function t(e,r){this.cache=e,this.reader=r}return t.prototype.writeToStore=function(t,n){var s=this,c=n.query,l=n.result,f=n.dataId,u=n.variables,d=n.overwrite,m=(0,i.getOperationDefinition)(c),p=(0,a.makeProcessedFieldsMerger)();u=(0,e.__assign)((0,e.__assign)({},(0,i.getDefaultValues)(m)),u);var g={store:t,written:Object.create(null),merge:function(e,r){return p.merge(e,r)},variables:u,varString:(0,o.canonicalStringify)(u),fragmentMap:(0,i.createFragmentMap)((0,i.getFragmentDefinitions)(c)),overwrite:!!d,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},y=this.processSelectionSet({result:l||Object.create(null),dataId:f,selectionSet:m.selectionSet,mergeTree:{map:new Map},context:g});if(!(0,i.isReference)(y))throw __DEV__?new r.InvariantError(\"Could not identify object \".concat(JSON.stringify(l))):new r.InvariantError(6);return g.incomingById.forEach(function(e,r){var n=e.storeObject,o=e.mergeTree,c=e.fieldNodeSet,l=(0,i.makeReference)(r);if(o&&o.map.size){var f=s.applyMerges(o,l,n,g);if((0,i.isReference)(f))return;n=f}if(__DEV__&&!g.overwrite){var u=Object.create(null);c.forEach(function(e){e.selectionSet&&(u[e.name.value]=!0)});Object.keys(n).forEach(function(e){(function(e){return!0===u[(0,a.fieldNameFromStoreName)(e)]})(e)&&!function(e){var r=o&&o.map.get(e);return Boolean(r&&r.info&&r.info.merge)}(e)&&v(l,n,e,g.store)})}t.merge(r,n)}),t.retain(y.__ref),y},t.prototype.processSelectionSet=function(t){var n=this,o=t.dataId,l=t.result,f=t.selectionSet,g=t.context,v=t.mergeTree,y=this.cache.policies,_=Object.create(null),h=o&&y.rootTypenamesById[o]||(0,i.getTypenameFromResult)(l,f,g.fragmentMap)||o&&g.store.get(o,\"__typename\");\"string\"==typeof h&&(_.__typename=h);var b=function(){var r=(0,s.normalizeReadFieldOptions)(arguments,_,g.variables);if((0,i.isReference)(r.from)){var t=g.incomingById.get(r.from.__ref);if(t){var n=y.readField((0,e.__assign)((0,e.__assign)({},r),{from:t.storeObject}),g);if(void 0!==n)return n}}return y.readField(r,g)},S=new Set;this.flattenFields(f,l,g,h).forEach(function(e,t){var o,s=(0,i.resultKeyNameFromField)(t),f=l[s];if(S.add(t),void 0!==f){var d=y.getStoreFieldName({typename:h,fieldName:t.name.value,field:t,variables:e.variables}),m=u(v,d),g=n.processFieldValue(f,t,t.selectionSet?c(e,!1,!1):e,m),F=void 0;t.selectionSet&&((0,i.isReference)(g)||(0,a.storeValueIsStoreObject)(g))&&(F=b(\"__typename\",g));var j=y.getMergeFunction(h,t.name.value,F);j?m.info={field:t,typename:h,merge:j}:p(v,d),_=e.merge(_,((o={})[d]=g,o))}else!__DEV__||e.clientOnly||e.deferred||i.addTypenameToDocument.added(t)||y.getReadFunction(h,t.name.value)||__DEV__&&r.invariant.error(\"Missing field '\".concat((0,i.resultKeyNameFromField)(t),\"' while writing result \").concat(JSON.stringify(l,null,2)).substring(0,1e3))});try{var F=y.identify(l,{typename:h,selectionSet:f,fragmentMap:g.fragmentMap,storeObject:_,readField:b}),j=F[0],O=F[1];o=o||j,O&&(_=g.merge(_,O))}catch(V){if(!o)throw V}if(\"string\"==typeof o){var w=(0,i.makeReference)(o),M=g.written[o]||(g.written[o]=[]);if(M.indexOf(f)>=0)return w;if(M.push(f),this.reader&&this.reader.isFresh(l,w,f,g))return w;var E=g.incomingById.get(o);return E?(E.storeObject=g.merge(E.storeObject,_),E.mergeTree=d(E.mergeTree,v),S.forEach(function(e){return E.fieldNodeSet.add(e)})):g.incomingById.set(o,{storeObject:_,mergeTree:m(v)?void 0:v,fieldNodeSet:S}),w}return _},t.prototype.processFieldValue=function(e,r,t,n){var o=this;return r.selectionSet&&null!==e?(0,a.isArray)(e)?e.map(function(e,i){var a=o.processFieldValue(e,r,t,u(n,i));return p(n,i),a}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:t,mergeTree:n}):__DEV__?(0,i.cloneDeep)(e):e},t.prototype.flattenFields=function(e,r,t,a){void 0===a&&(a=(0,i.getTypenameFromResult)(r,e,t.fragmentMap));var o=new Map,s=this.cache.policies,l=new n.Trie(!1);return function e(n,f){var u=l.lookup(n,f.clientOnly,f.deferred);u.visited||(u.visited=!0,n.selections.forEach(function(n){if((0,i.shouldInclude)(n,t.variables)){var l=f.clientOnly,u=f.deferred;if(l&&u||!(0,i.isNonEmptyArray)(n.directives)||n.directives.forEach(function(e){var r=e.name.value;if(\"client\"===r&&(l=!0),\"defer\"===r){var n=(0,i.argumentsObjectFromField)(e,t.variables);n&&!1===n.if||(u=!0)}}),(0,i.isField)(n)){var d=o.get(n);d&&(l=l&&d.clientOnly,u=u&&d.deferred),o.set(n,c(t,l,u))}else{var m=(0,i.getFragmentFromSelection)(n,t.fragmentMap);m&&s.fragmentMatches(m,a,r,t.variables)&&e(m.selectionSet,c(t,l,u))}}}))}(e,t),o},t.prototype.applyMerges=function(t,n,o,s,c){var l,f=this;if(t.map.size&&!(0,i.isReference)(o)){var u,d=(0,a.isArray)(o)||!(0,i.isReference)(n)&&!(0,a.storeValueIsStoreObject)(n)?void 0:n,m=o;d&&!c&&(c=[(0,i.isReference)(d)?d.__ref:d]);var p=function(e,r){return(0,a.isArray)(e)?\"number\"==typeof r?e[r]:void 0:s.store.getFieldValue(e,String(r))};t.map.forEach(function(e,t){var n=p(d,t),i=p(m,t);if(void 0!==i){c&&c.push(t);var a=f.applyMerges(e,n,i,s,c);a!==i&&(u=u||new Map).set(t,a),c&&(0,r.invariant)(c.pop()===t)}}),u&&(o=(0,a.isArray)(m)?m.slice(0):(0,e.__assign)({},m),u.forEach(function(e,r){o[r]=e}))}return t.info?this.cache.policies.runMergeFunction(n,o,t.info,s,c&&(l=s.store).getStorage.apply(l,c)):o},t}();exports.StoreWriter=l;var f=[];function u(e,r){var t=e.map;return t.has(r)||t.set(r,f.pop()||{map:new Map}),t.get(r)}function d(r,t){if(r===t||!t||m(t))return r;if(!r||m(r))return t;var n=r.info&&t.info?(0,e.__assign)((0,e.__assign)({},r.info),t.info):r.info||t.info,i=r.map.size&&t.map.size,a={info:n,map:i?new Map:r.map.size?r.map:t.map};if(i){var o=new Set(t.map.keys());r.map.forEach(function(e,r){a.map.set(r,d(e,t.map.get(r))),o.delete(r)}),o.forEach(function(e){a.map.set(e,d(t.map.get(e),r.map.get(e)))})}return a}function m(e){return!e||!(e.info||e.map.size)}function p(e,r){var t=e.map,n=t.get(r);n&&m(n)&&(f.push(n),t.delete(r))}var g=new Set;function v(e,n,o,s){var c=function(e){var r=s.getFieldValue(e,o);return\"object\"==typeof r&&r},l=c(e);if(l){var f=c(n);if(f&&!(0,i.isReference)(l)&&!(0,t.equal)(l,f)&&!Object.keys(l).every(function(e){return void 0!==s.getFieldValue(f,e)})){var u=s.getFieldValue(e,\"__typename\")||s.getFieldValue(n,\"__typename\"),d=(0,a.fieldNameFromStoreName)(o),m=\"\".concat(u,\".\").concat(d);if(!g.has(m)){g.add(m);var p=[];(0,a.isArray)(l)||(0,a.isArray)(f)||[l,f].forEach(function(e){var r=s.getFieldValue(e,\"__typename\");\"string\"!=typeof r||p.includes(r)||p.push(r)}),__DEV__&&r.invariant.warn(\"Cache data may be lost when replacing the \".concat(d,\" field of a \").concat(u,\" object.\\n\\nTo address this problem (which is not a bug in Apollo Client), \").concat(p.length?\"either ensure all objects of type \"+p.join(\" and \")+\" have an ID or a custom merge function, or \":\"\",\"define a custom merge function for the \").concat(m,\" field, so InMemoryCache can safely merge these objects:\\n\\n  existing: \").concat(JSON.stringify(l).slice(0,1e3),\"\\n  incoming: \").concat(JSON.stringify(f).slice(0,1e3),\"\\n\\nFor more information about these options, please refer to the documentation:\\n\\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\\n\"))}}}}"},"sourceMaps":null,"error":null,"hash":"d257d16ddd6cf5515c2c81f5abe2ac7e","cacheData":{"env":{}}}